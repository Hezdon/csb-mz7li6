(this["webpackJsonpupload-test-app"]=this["webpackJsonpupload-test-app"]||[]).push([[0],{49:function(e){e.exports=JSON.parse('{"a":" https://trans-reconciliation.herokuapp.com/api/v1/"}')},85:function(e,n,t){},86:function(e,n,t){"use strict";t.r(n);var a,c=t(1),i=t(15),r=t.n(i),l=(t(55),t(18)),s=t(17),o=t(50),d=t(102),j=t(11),b=t(12),h=b.a.div(a||(a=Object(j.a)(["\n  width: 100%;\n  max-width: 700px;\n  margin: 2em auto;\n  padding: 2em;\n  font-size: 85%;\n  background-color: white;\n\n  form {\n    & > * + * {\n      margin-top: 2em;\n    }\n  }\n"]))),u=t(48),m=t.n(u),x=t(49),f=m.a.create({baseURL:x.a});f.interceptors.request.use((function(e){return e.headers["Content-Type"]="multipart/form-data",e}),(function(e){return Promise.reject(e)}));var O,p,g,v,y=f,k=t(87),w=t(88),N=t(89),T=t(90),F=t(2),M=b.a.li(O||(O=Object(j.a)(["\n  display: grid;\n  align-items: center;\n  grid-template-columns: 1fr 1fr;\n  font-size: 12px;\n  gap: 5px;\n  justify-items: flex-start;\n"]))),D=function(e){var n=e.title,t=e.content,a=e.style;return Object(F.jsxs)(M,{style:a,children:[Object(F.jsx)("div",{className:"truncate",children:n}),Object(F.jsx)("div",{className:"truncate bold",children:t||"N/A"})]})},S=b.a.div(p||(p=Object(j.a)(["\n  padding: 0 2em;\n\n  .title {\n    font-size: 1.2rem;\n    font-weight: 500;\n  }\n\n  .green-bg {\n    background-color: #3c3;\n    color: #efe;\n  }\n\n  .content {\n    width: 100%;\n    padding: 1em 0em;\n\n    .card-box {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      flex-wrap: wrap;\n      gap: 20px;\n\n      & > div {\n        flex: 1;\n        min-width: 250px;\n        max-width: 100%;\n      }\n    }\n  }\n"]))),C=function(e){var n=e.values,t=e.setPageState,a=e.comparationData;console.log({comparationData:a});var c=function(e){return[{key:"totalTransactionNum",title:"Total Records",content:e.totalTransactionNum},{key:"matchedTransactionNum",content:e.matchedTransactionNum,title:"Matching Records"},{key:"unmatchedTransactionNum",title:"Unmatched Records",content:e.unmatchedTransactionNum}]};return Object(F.jsxs)(S,{children:[Object(F.jsx)("h2",{className:"title",children:"Reconciliation Summary"}),Object(F.jsxs)("div",{className:"content",children:[Object(F.jsxs)("div",{className:"card-box",children:[Object(F.jsxs)(k.a,{children:[Object(F.jsx)(w.a,{className:"bold large",children:n.paymentologyMarkOffFile.name}),Object(F.jsx)(N.a,{children:Object(F.jsx)(T.a,{children:c(a.paymentologyReconciliationData).map((function(e){var n=e.key,t=e.title,a=e.content;return Object(F.jsx)(D,{title:t,content:a},n)}))})})]}),Object(F.jsxs)(k.a,{children:[Object(F.jsx)(w.a,{className:"bold large",children:n.clientMarkOffFile.name}),Object(F.jsx)(N.a,{children:Object(F.jsx)(T.a,{children:c(a.clientReconciliationData).map((function(e){var n=e.key,t=e.title,a=e.content;return Object(F.jsx)(D,{title:t,content:a},n)}))})})]})]}),Object(F.jsx)("div",{className:"centered mt-4",children:Object(F.jsx)("button",{type:"button",onClick:function(){return t((function(e){return Object(l.a)(Object(l.a)({},e),{},{hasMatchedResult:!0})}))},className:"btn green-bg",children:"Unmatched Report"})})]})]})},R=t(103),U=t(91),z=t(92),I=t(93),P=t(94),V=t(95),A=t(96),L=t(97),E=t(98),J=t(99),q=t(100),B=t(101),G=b.a.div(g||(g=Object(j.a)(["\n  padding: 0 2em;\n\n  .light-blue-bg {\n    background-color: #6cf;\n    color: #fff;\n  }\n  .error-msg {\n    color: #933;\n    font-weight: bold;\n  }\n\n  tr:nth-child(odd) > td {\n    background-color: #eef6ff;\n  }\n  tr:nth-child(even) > td {\n    background-color: #f6fff6;\n  }\n\n  .success-msg {\n    color: #393;\n    font-weight: bold;\n  }\n\n  .content {\n    width: 100%;\n    padding: 1em 0em;\n\n    .navitem {\n      display: flex;\n      align-items: center;\n      justify-content: flex-start;\n      border-bottom: 1px solid rgb(85, 216, 189);\n      padding: 0;\n\n      .navlink {\n        flex: 1;\n        border-radius: 0;\n        padding: 1em;\n        font-weight: 400;\n        min-width: 10em;\n        text-align: center;\n        cursor: context-menu;\n        border-bottom: 2px solid transparent;\n\n        &:hover {\n          font-weight: 500;\n        }\n\n        &.active {\n          border-width: 2px;\n          border-top-left-radius: 7px;\n          border-top-right-radius: 7px;\n          border-color: rgb(85, 216, 189);\n          font-weight: 700;\n\n          &::after {\n            width: 100%;\n          }\n        }\n      }\n    }\n  }\n\n  tr th {\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow: hidden;\n  }\n"]))),H=function(e){var n=e.comparationData;console.log({comparationData:n});var t=Object(c.useState)("tutuka"),a=Object(s.a)(t,2),i=a[0],r=a[1],l=Object(c.useState)(void 0),o=Object(s.a)(l,2),d=o[0],j=o[1],b=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Object(F.jsx)("tbody",{children:e.map((function(e){var t=e.transactionID,a=e.suggestedMatchTransactions,c=e.transactionDate,i=e.transactionAmount,r=e.transactionDescription,l=e.transactionNarrative;return Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:new Date(c).toLocaleDateString()}),Object(F.jsx)("td",{children:t}),Object(F.jsx)("td",{children:i.toLocaleString()}),Object(F.jsx)("td",{className:"".concat("DEDUCT"===r?"error-msg":"success-msg"),children:r.toLowerCase()}),Object(F.jsx)("td",{children:l}),n&&Object(F.jsx)("td",{children:Object(F.jsx)("button",{onClick:function(){return j(a)},type:"button",className:"btn btn-outline-info small light-blue-bg",children:"View"})})]},t)}))})};if(d){var h=function(){return j(void 0)};return Object(F.jsxs)(R.a,{isOpen:!0,toggle:h,children:[Object(F.jsxs)(U.a,{className:"bold large",toggle:h,children:["Priority Level (%): ",d.priority]}),Object(F.jsx)(z.a,{children:Object(F.jsxs)(I.a,{children:[Object(F.jsx)("thead",{children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{children:"Transaction Date"}),Object(F.jsx)("th",{children:"Transaction Id"}),Object(F.jsx)("th",{children:"Transaction Amount"}),Object(F.jsx)("th",{children:"Description"}),Object(F.jsx)("th",{children:"Narrative"})]})}),b([d.suggestedMatch],!1)]})}),Object(F.jsxs)(P.a,{children:[Object(F.jsx)(V.a,{color:"secondary",onClick:h,children:"Close"}),Object(F.jsx)(V.a,{color:"secondary",onClick:h,children:"Match"})]})]})}return Object(F.jsxs)(G,{children:[Object(F.jsx)("h2",{className:"large bold",children:"Unmatched Transaction"}),Object(F.jsxs)("div",{className:"content",children:[Object(F.jsxs)(A.a,{tabs:!0,className:"navitem",children:[Object(F.jsx)(L.a,{children:Object(F.jsxs)(E.a,{className:"navlink ".concat("tutuka"===i?"active":""),onClick:function(){return r("tutuka")},children:[" ","Paymentology Transactions"]})}),Object(F.jsx)(L.a,{children:Object(F.jsx)(E.a,{className:"navlink ".concat("client"===i?"active":""),onClick:function(){return r("client")},children:"Client Transaction"})})]}),Object(F.jsxs)(J.a,{activeTab:i,children:[Object(F.jsx)(q.a,{tabId:"tutuka",children:Object(F.jsx)(B.a,{children:Object(F.jsxs)(I.a,{responsive:!0,children:[Object(F.jsx)("thead",{children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{children:"Transaction Date"}),Object(F.jsx)("th",{children:"Transaction Id"}),Object(F.jsx)("th",{children:"Transaction Amount"}),Object(F.jsx)("th",{children:"Description"}),Object(F.jsx)("th",{children:"Narrative"}),Object(F.jsx)("th",{style:{width:150},children:"View"})]})}),b(n.paymentologyReconciliationData.unmatchedTransactions)]})})}),Object(F.jsx)(q.a,{tabId:"client",children:Object(F.jsx)(B.a,{children:Object(F.jsxs)(I.a,{responsive:!0,children:[Object(F.jsx)("thead",{children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{children:"Transaction Date"}),Object(F.jsx)("th",{children:"Transaction Id"}),Object(F.jsx)("th",{children:"Transaction Amount"}),Object(F.jsx)("th",{children:"Description"}),Object(F.jsx)("th",{children:"Narrative"})]})}),b(n.clientReconciliationData.unmatchedTransactions)]})})})]})]})]})},K=b.a.div(v||(v=Object(j.a)(["\n  padding: 0 2em;\n\n  & > * + * {\n    margin-top: 2em;\n  }\n\n  .title {\n    font-size: 1.2rem;\n    font-weight: 500;\n  }\n\n  .green-bg {\n    background-color: #3c3;\n    color: #efe;\n  }\n\n  .content {\n    display: flex;\n    align-items: flex-end;\n    flex-wrap: wrap;\n    justify-content: flex-start;\n    gap: 20px;\n\n    .upload-box {\n      width: 100%;\n      flex: 1;\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n      justify-content: center;\n      gap: 15px;\n\n      label {\n        width: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: flex-start;\n        gap: 10px;\n\n        span {\n          display: inline-block;\n          width: 100%;\n          min-width: 200px;\n          flex: 1;\n          height: 40px;\n          border: 3px solid #eee;\n          border-radius: 7px;\n          padding: 0.6em 1em;\n        }\n      }\n    }\n  }\n"]))),Q=function(e){var n,t,a,c=e.errors,i=e.values,r=e.setFieldError,l=e.setFieldValue,s=function(e,n){e.persist();var t=e.currentTarget.files[0];if(t||r(n,"Upload a File"),t.size>3e5)return r(n,"File size exceeds maximum size allowed"),void setTimeout((function(){return r(n,"")}),1500);"undefined"!==typeof t&&(console.log({file:t}),l(n,t))};return Object(F.jsxs)(K,{children:[Object(F.jsx)("h2",{className:"title",children:"Transaction files"}),null!==c&&void 0!==c&&c.paymentologyMarkOffFile?Object(F.jsx)("div",{className:"error-box",children:c.paymentologyMarkOffFile}):null,null!==c&&void 0!==c&&c.clientMarkOffFile?Object(F.jsx)("div",{className:"error-box",children:c.clientMarkOffFile}):null,Object(F.jsxs)("div",{className:"content",children:[Object(F.jsxs)("div",{className:"upload-box",children:[Object(F.jsxs)("label",{htmlFor:"paymentologyMarkOffFile",children:[Object(F.jsx)("span",{children:null!==(n=null===(t=i.paymentologyMarkOffFile)||void 0===t?void 0:t.name)&&void 0!==n?n:"Select Paymentology Transaction File"}),Object(F.jsx)("div",{className:"btn btn-outline-success",type:"button",children:"Upload"})]}),Object(F.jsxs)("label",{htmlFor:"clientMarkOffFile",children:[Object(F.jsx)("span",{children:(null===(a=i.clientMarkOffFile)||void 0===a?void 0:a.name)||"Select Client Transaction File"}),Object(F.jsx)("div",{className:"btn btn-outline-success",type:"button",children:"Upload"})]}),Object(F.jsx)("input",{type:"file",className:"visually-hidden",accept:".csv",id:"paymentologyMarkOffFile",name:"paymentologyMarkOffFile",onChange:function(e){return s(e,"paymentologyMarkOffFile")}}),Object(F.jsx)("input",{type:"file",className:"visually-hidden",accept:".csv",id:"clientMarkOffFile",name:"clientMarkOffFile",onChange:function(e){return s(e,"clientMarkOffFile")}})]}),Object(F.jsx)("button",{style:{width:"13em"},className:"green-bg btn mt-auto ",type:"submit",children:"Reconcile Transaction"})]})]})},W=function(){var e=Object(c.useState)({hasCompared:!1,hasMatchedResult:!1}),n=Object(s.a)(e,2),t=n[0],a=n[1],i=Object(c.useState)(),r=Object(s.a)(i,2),j=r[0],b=r[1],u=Object(o.a)({initialValues:{},onSubmit:function(e,n){var t=n.setSubmitting,c=new FormData;c.append("paymentologyMarkOffFile",e.paymentologyMarkOffFile),c.append("clientMarkOffFile",e.clientMarkOffFile),t(!0),y({url:"transaction/reconciliation",method:"POST",data:c}).then((function(e){var n=e.data;b(n),console.log({data:n}),a((function(e){return Object(l.a)(Object(l.a)({},e),{},{hasCompared:!0})}))})).catch((function(e){return console.log({error:e})})).finaly((function(){return t(!1)}))}}),m=u.values,x=u.handleSubmit,f=u.setFieldValue;return Object(F.jsx)(h,{children:Object(F.jsxs)(d.a,{onSubmit:x,children:[Object(F.jsx)(Q,{values:m,setFieldValue:f}),t.hasCompared&&m&&Object(F.jsx)(C,{values:m,setPageState:a,comparationData:j}),t.hasMatchedResult&&Object(F.jsx)(H,{comparationData:j})]})})};t(85);function X(){return Object(F.jsx)(W,{})}var Y=document.getElementById("root");r.a.render(Object(F.jsx)(c.StrictMode,{children:Object(F.jsx)(X,{})}),Y)}},[[86,1,2]]]);
//# sourceMappingURL=main.98afa16f.chunk.js.map